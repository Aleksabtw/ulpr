using System;
using System.Runtime.CompilerServices;

namespace shablon
{
    class Program
    {
        static void Main(string[] args)
        {
            Console.WriteLine("Введите год");
            int year = Convert.ToInt32(Console.ReadLine());
            int days;
            for (int month = 1; month < 13; month++)
            {
                if ((month == 4) ||  (month == 6) || (month == 9) || (month == 11))
                {
                    days = 30;
                    DateOnly date = new DateOnly(year, month, days);
                    DayOfWeek day = date.DayOfWeek;
                    Console.WriteLine($"{Proverka(day, days)}/{month}/{year} последний четверг месяца");
                }
                if ((month == 1) || (month == 3) || (month == 5) || (month == 7) || (month == 8) || (month == 10) || (month == 12))
                {
                    days = 31;
                    DateOnly date = new DateOnly(year, month, days);
                    DayOfWeek day = date.DayOfWeek;
                    Console.WriteLine($"{Proverka(day, days)}/{month}/{year} последний четверг месяца");
                }
                if (month == 2)
                {
                    if (((year % 4 == 0) && (year % 100 != 0)) || ((year % 100 == 0) && (year % 400 == 0)))
                    {
                        days = 29;
                    }
                    else
                    {
                        days = 28;
                    }
                    DateOnly date = new DateOnly(year, month, days);
                    DayOfWeek day = date.DayOfWeek;
                    Console.WriteLine($"{Proverka(day, days)}/{month}/{year} последний четверг месяца");
                }
            }
        }
        private static int Proverka(DayOfWeek day,int days)
        {
            switch (day)
            {
                case DayOfWeek.Monday: return days - 4;
                case DayOfWeek.Tuesday: return days - 5;
                case DayOfWeek.Wednesday: return days - 6;
                case DayOfWeek.Thursday: return days;
                case DayOfWeek.Friday: return days - 1;
                case DayOfWeek.Saturday: return days - 2;
                case DayOfWeek.Sunday: return days - 3;
                default: return days;
            }
        }    
    }
}
